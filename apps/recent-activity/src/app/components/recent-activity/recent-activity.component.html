<div class="recent-activity-outer-wrapper">
  <ng-container
    *ngIf="
      recentActivityNotifications$ | async as recentActivityNotifications;
      else noRa
    "
  >
    <div class="recent-activity-welcome-heading">
      <h1 class="heading-3">Welcome Back, {{ (user$ | async)?.name }}</h1>
      <cirrus-total-flight-hours
        [hours]="(flightHoursString$ | async) || '0000'"
      ></cirrus-total-flight-hours>
    </div>

    <cirrus-courses-in-progress
      [inProgressCourses]='recentActivityNotifications.recentActivity.in_progress_courses'
    ></cirrus-courses-in-progress>
    <div class="notifications-achievements-wrapper">
      <cirrus-notifications-section
      class="notifications-wrapper"
        [notifications]="recentActivityNotifications.notifications"
        (viewAllNotifications)="viewAllNotifications()"
      ></cirrus-notifications-section>

      <cirrus-achievements
      class="achievements-wrapper"
        [achievments]="
          recentActivityNotifications?.recentActivity?.achievements!
        "
      ></cirrus-achievements>
    </div>

    <cirrus-overall-progress
    class="overall-progress-wrapper"
      [overallProgress]="
        recentActivityNotifications?.recentActivity?.overall_progress!
      "
    ></cirrus-overall-progress>

    <cirrus-flight-hours-chart></cirrus-flight-hours-chart>
  </ng-container>
</div>

<ng-template #noRa>
  <div>
    <div>Welcome Back, Andrew</div>
    <div>Cirrus flight hours</div>
  </div>
</ng-template>
