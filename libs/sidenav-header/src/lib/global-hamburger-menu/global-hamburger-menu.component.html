<div class="hamburger-menu-icon-container">
  <button
    mat-button
    [matMenuTriggerFor]="menu"
    (menuClosed)="showHamburgerIcon(true)"
    (menuOpened)="showHamburgerIcon(false)"
  >
    <img
      [src]="
        hamburgerIcon
          ? deployUrl + '/images/svg/hamburger.svg'
          : deployUrl + '/images/svg/close.svg'
      "
    />
  </button>
</div>

<mat-menu #menu="matMenu" backdropClass="mat-ui-menu-override">
  <div class="menu-wrapper">
    <div
      *ngIf="!isLoggedIn"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <a href="https://www.cirrusapproach.com/learn-to-fly/" target="_blank">
        <img
          [src]="deployUrl + '/images/svg/learn-to-fly-icon.svg'"
          height="26px"
          width="26px"
        />
        <span class="mobile-menu-item-text">Learn To Fly</span>
      </a>
    </div>

    <div
      *ngIf="!isLoggedIn"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <a href="https://www.youtube.com/playlist?list=PLEZkne-402vDOF39xpPCqDttnRfm90QuZ" target="_blank">
        <img
          [src]="deployUrl + '/images/svg/flight-fix-icon.svg'"
          height="26px"
          width="26px"
        />
        <span class="mobile-menu-item-text">Flight Fix</span>
        </a>
    </div>
    <div
      *ngIf="isLoggedIn"
      routerLink="recent-activity"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <img
        [src]="deployUrl + '/images/svg/recent-activity.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Recent Activity</span>
    </div>
    <div
      *ngIf="cirrusUser.role !== 'pilot' && isLoggedIn"
      routerLink="instructor/dashboard"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <img
        [src]="deployUrl + '/images/svg/my-student.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">My Students</span>
    </div>
    <div
      *ngIf="isLoggedIn"
      routerLink="my-courses"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <img
        [src]="deployUrl + '/images/svg/my-courses.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">My Courses</span>
    </div>
    <div
      routerLink="course-catalog"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <img
        [src]="deployUrl + '/images/svg/catalog.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Course Catalog</span>
    </div>
    <div
      *ngIf="isLoggedIn"
      routerLink="training-partners"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
    >
      <img
        [src]="deployUrl + '/images/svg/instructor.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Training Partners</span>
    </div>
    <div
      *ngIf="isLoggedIn"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
      routerLink="library"
    >
      <img
        [src]="deployUrl + '/images/svg/library.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Library</span>
    </div>
    <div 
      *ngIf="isLoggedIn"
      class="image-container mobile-menu-link-wrapper"
      routerLinkActive="active"
      (click)="showNotifications()"
    >
      <img
        [src]="deployUrl + '/images/svg/alarm.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Notifications</span>
      <cirrus-badge [badgeNumber]="notificationCount > 99 ? '99+' : notificationCount"></cirrus-badge>
    </div>
    <a href="https://cirrusaircraft.com/approach/help-center/" target="_blank" class="image-container mobile-menu-link-wrapper">
      <img
        [src]="deployUrl + '/images/svg/clarity_help-line.svg'"
        height="26px"
        width="26px"
      />
      <span class="mobile-menu-item-text">Help Center</span>
    </a>
  </div>
</mat-menu>
